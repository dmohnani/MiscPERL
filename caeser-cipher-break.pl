#########################################
# (c) Devesh Mohnani 2014
# Decrypt Encrypted message
# using Caeser Cipher method
# caeser-cipher-break.pl
# v 1.0
#########################################
#!/usr/bin/perl


use strict;
use warnings;
my $mapbase='';
foreach (1..26) {$mapbase .= chr($_+64)}
my @t=split(//,$mapbase);
my @map=();
push @map, [@t];
foreach (1..25)
{
 	push(@t, shift(@t));
	push @map, [@t];
}
# pop   = From End
# push  = To End
# shift = From Begin
# UnShift = To Begin

$,="";
foreach (@map) {print @$_ ; print "\n";}
exit(0);
#################
 @map=
(
['A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z'],
['B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z','A'],
['C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z','A','B'],
['D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z','A','B','C'],
['E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z','A','B','C','D'],
['F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z','A','B','C','D','E'],
['G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z','A','B','C','D','E','F'],
['H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z','A','B','C','D','E','F','G'],
['I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z','A','B','C','D','E','F','G','H'],
['J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z','A','B','C','D','E','F','G','H','I'],
['K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z','A','B','C','D','E','F','G','H','I','J'],
['L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z','A','B','C','D','E','F','G','H','I','J','K'],
['M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z','A','B','C','D','E','F','G','H','I','J','K','L'],
['N','O','P','Q','R','S','T','U','V','W','X','Y','Z','A','B','C','D','E','F','G','H','I','J','K','L','M'],
['O','P','Q','R','S','T','U','V','W','X','Y','Z','A','B','C','D','E','F','G','H','I','J','K','L','M','N'],
['P','Q','R','S','T','U','V','W','X','Y','Z','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O'],
['Q','R','S','T','U','V','W','X','Y','Z','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P'],
['R','S','T','U','V','W','X','Y','Z','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q'],
['S','T','U','V','W','X','Y','Z','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R'],
['T','U','V','W','X','Y','Z','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S'],
['U','V','W','X','Y','Z','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T'],
['V','W','X','Y','Z','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U'],
['W','X','Y','Z','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V'],
['X','Y','Z','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W'],
['Y','Z','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X'],
['Z','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y']
);

#my $b=$ARGV[1];
my $b ='Uryyb, zl anzr vf Puhpx naq V arrq zbarl naq n wrg.';
my @a=split(//,$b);

foreach my $i (1..25)
{
    my $p=0;
    print "\n ";
    printf("%02s",$i);
    print " : ";
    foreach my $e (@a)
    {
      my $c=$e;
      if ($c=~/[A-Z]|[a-z]/)
      {
        $c=~ tr/[a-z]/[A-Z]/;
        my $pos=getposition($c, $i);
        my $y=$map[0]->[$pos];
        if ($e =~ /[a-z]/)
        {
           $y=~ tr/[A-Z]/[a-z]/;
           print "$y";
        }
        else
        {
           print "$y";
        }
      }
      else
      {
        print "$c";
      }
    }
}
print "\n";

###############################################
sub getposition
{
  my $x=shift;
  my $i=shift;
  my @arr=@{$map[$i]};
  my $pos=0;
  foreach  (@arr)
  {
    return $pos if ($_ eq $x);
    $pos++;
  }
}
